<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>myIOT Demo</title>
    <link href="bootstrap5.1.3.min.css" rel="stylesheet">
    <link href="myIOTDevice.css" rel="stylesheet">
    <script src="jquery-3.6.0.min.js"></script>
    <script src="bootstrap5.1.3.bundle.min.js"></script>
    <script src="myIOTDevice.js"></script>
</head>
<body>


<nav class="navbar navbar-dark bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">
            <span id='my_brand'>myIOT Demo</span>
            &nbsp;<span id='my_version'>v</span>
            &nbsp;<span id='iot_version'>iot</span>
            &nbsp;<span id='ws_status'>iot</span>
        </a>
        <ul class="nav nav-dark nav-pills" id="my_nav_buttons" role="tablist">
            <li class="nav-item">
                <button
                    class="nav-link my_nav_link active"
                    id="dashboard_button"
                    data-bs-toggle="tab"
                    data-bs-target="#dashboard">
                    Dashboard
                </button>
            </li>
            <li class="nav-item">
                <button
                    class="nav-link my_nav_link"
                    id="config_button"
                    data-bs-toggle="tab"
                    data-bs-target="#config">
                    Config
                </button>
            </li>
            <li class="nav-item">
                <button
                    class="nav-link my_nav_link"
                    id="spiffs_button"
                    data-bs-toggle="tab"
                    data-bs-target="#spiffs">
                    SPIFFS
                </button>
            </li>
        </ul>
    </div>
</nav>


<div id="my_tab_content" class="tab-content">
    <div id="dashboard" class="tab-pane fade show active">

    <table border=0 width='80%' align='center'>
        <tr>
            <td>bilgeAlarm/LED</td>
            <td>
                <div class="form-check form-switch my_switch">
                    <input class="form-check-input my_switch" onchange="switchChanged(event)" type="checkbox" id="LED">
                 </div>
            </td>
        </tr>
    </table>


    </div>
    <div id="config" class="tab-pane fade" >
        Config
    </div>
    <div id="spiffs" class="tab-pane fade">
        <table class='table' id='filemanager'>
            <thead>
                <tr>
                    <th>
                        Name
                        <label htmlFor="spiffs_files">
                            <button class='btn btn-secondary' onclick="onUploadClick()">upload</button>
                        </label>
                        <input type="file" multiple id="spiffs_files" onchange="uploadFiles('spiffs')" style="display:none"/>

                        <label htmlFor="ota_files">
                            <button class='btn btn-secondary' onclick="onOTAClick()">OTA</button>
                        </label>
                        <input type="file" id="ota_files" onchange="uploadFiles('ota')" style="display:none"/>
                    </th>
                    <th id='spiffs_used'>Size</th>
                    <th id='spiffs_size'>&nbsp;</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>test</td><td>2</td><td>&nbsp;</td></tr>
            </tbody>
        </table>
    </div>
</div>



<div id="upload_progress_dlg"
     class="modal fade"
     data-bs-backdrop="static"
     data-bs-keyboard="false"
     tabindex="-1"
     role="dialog"
     aria-hidden="true">
    <div class="modal-dialog modal-m">
        <div class="modal-content" style='margin-left:30px'>
            <div class="modal-header">
                <h3>Uploading <span id='upload_num_files'>0</span> files ..</h3>
            </div>
            <div class='modal_body' style='margin-left:30px'>
                <div class="d-flex">
                    <div class='progress' style='width:80%;height:28px;'>
                        <div id='upload_progress'
                             class="progress-bar"
                             role="progressbar"
                             aria-valuenow="0"
                             aria-valuemin="0"
                             aria-valuemax="100">
                        </div>
                    </div>
                    &nbsp;&nbsp;
                    <h4 align='right' id="upload_pct"></h4>
                </div>
                <br>
                <h4 id='upload_filename'>filename</h4>
                <br>
                &nbsp;
            </div>
        </div>
   </div>
</div>



</body>
</html>